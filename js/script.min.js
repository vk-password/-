function log(t){console.log(t)}function Random(t,e){return Math.floor(Math.random()*(e-t+1))+t}function basa(t){localStorage.setItem("basa",JSON.stringify(t))}function theme(){"theme1"==localStorage.getItem("theme")?document.body.classList.remove("theme-dark"):document.body.classList.add("theme-dark")}function table(){let t=JSON.parse(localStorage.getItem("basa")),e=document.querySelector(".content_table>.table>table");e.innerHTML="<tr>\n\t\t<th>№</th>\n\t\t<th>Имя Фамилия</th>\n\t\t<th>ID</th>\n\t\t<th>Логин</th>\n\t\t<th>Пароль</th>\n\t\t<th>Email</th>\n\t\t<th>Заметки</th>\n\t\t<th><div></div></th>\n\t\t<th><div></div></th>\n\t</tr>";for(let o in t)tr=t[o],e.insertAdjacentHTML("beforeend",`<tr class="tr">\n\t\t\t\t<td>${Number(o)+1}</td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.name}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.id}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.login}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.password}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.email?tr.email:""}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.lists}</div></td>\n\t\t\t\t<td onclick="update_tr(${o}); return false;"><div></div></td>\n\t\t\t\t<td onclick="delete_tr(${o}); return false;"><div></div></td>\n\t\t\t</tr>`)}function new_tr(){let t=JSON.parse(localStorage.getItem("basa"));t.push({id:0,name:"",login:"+7",password:"",email:"",lists:""}),basa(t),table()}function delete_tr(t){let e=JSON.parse(localStorage.getItem("basa"));e.splice(t,1),basa(e),table()}function update_tr(t){let e=JSON.parse(localStorage.getItem("basa"));const o=document.querySelector(".content_table>.table>table"),[l,...r]=o.querySelectorAll("tr"),n=[...l.querySelectorAll("th")].map(t=>t.textContent),c=r.map(t=>[...t.querySelectorAll("td")].map(t=>t.textContent)).map(t=>Object.fromEntries(t.map((t,e)=>[n[e],t])));e[t].id=c[t].ID,e[t].name=c[t]["Имя Фамилия"],e[t].login=c[t]["Логин"],e[t].password=c[t]["Пароль"],e[t].email=c[t].Email,e[t].lists=c[t]["Заметки"],basa(e)}function update(){const t=document.querySelector(".content_table>.table>table"),[e,...o]=t.querySelectorAll("tr"),l=[...e.querySelectorAll("th")].map(t=>t.textContent),r=o.map(t=>[...t.querySelectorAll("td")].map(t=>t.textContent)).map(t=>Object.fromEntries(t.map((t,e)=>[l[e],t])));let n=[];for(let t in r)result_obj=r[t],n.push({id:result_obj.ID,name:result_obj["Имя Фамилия"],login:result_obj["Логин"],password:result_obj["Пароль"],email:result_obj.Email,lists:result_obj["Заметки"]});basa(n),table()}function seen_table(){let t=JSON.parse(localStorage.getItem("basa")),e=document.querySelector(".body__window__window__item>.table>table");e.innerHTML="<tr>\n\t\t<th>№</th>\n\t\t<th>Имя Фамилия</th>\n\t\t<th>ID</th>\n\t\t<th>Логин</th>\n\t\t<th>Пароль</th>\n\t\t<th>Email</th>\n\t\t<th>Заметки</th>\n\t</tr>";for(let o in t)tr=t[o],e.insertAdjacentHTML("beforeend",`<tr class="tr">\n\t\t\t\t<td>${Number(o)+1}</td>\n\t\t\t\t<td>${tr.name}</td>\n\t\t\t\t<td>${tr.id}</td>\n\t\t\t\t<td>${tr.login}</td>\n\t\t\t\t<td>${tr.password}</td>\n\t\t\t\t<td>${tr.email?tr.email:""}</td>\n\t\t\t\t<td>${tr.lists}</td>\n\t\t\t</tr>`);document.querySelector(".body__window").style.display="block",document.querySelector(".body__content").style.display="none"}function un_seen_table(){document.querySelector(".body__window").style.display="none",document.querySelector(".body__content").style.display="block"}function write_base(){"block"!=document.querySelector(".content_code>.write_code").style.display?(document.querySelector(".content_code>.write_code>.write_code__text").innerHTML=JSON.stringify(JSON.parse(localStorage.getItem("basa"))),document.querySelector(".content_code>.write_code").style.display="block"):document.querySelector(".content_code>.write_code").style.display="none"}function read_base(){"block"!=document.querySelector(".content_code>.read_code").style.display?document.querySelector(".content_code>.read_code").style.display="block":document.querySelector(".content_code>.read_code").style.display="none"}function read_code_base(){let t=document.querySelector(".content_code>.read_code>.read_code__text").textContent;t=JSON.parse(t),basa(t),table()}function block(){document.querySelector(".body__window2").style.display="block",document.querySelector(".body__content").style.display="none",localStorage.setItem("block_state","true")}function settings(){document.querySelector(".body__window3").style.display="block",document.querySelector(".body__content").style.display="none","true"==localStorage.getItem("block_loading")?document.querySelector("#blocked").checked=!0:document.querySelector("#blocked").checked=!1,"true"==localStorage.getItem("block_reset")?document.querySelector("#reset").checked=!0:document.querySelector("#reset").checked=!1,"theme1"==localStorage.getItem("theme")?(document.querySelector("#theme1").checked=!0,document.querySelector("#theme2").checked=!1):(document.querySelector("#theme2").checked=!0,document.querySelector("#theme1").checked=!1),document.querySelector("#kod-password").value=localStorage.getItem("block_kod")}function login(){document.querySelector("#kod").value==localStorage.getItem("block_kod")?(document.querySelector(".body__window2").style.display="none",document.querySelector(".body__content").style.display="block",localStorage.setItem("block_state","false"),table()):(document.querySelector("#kod").style.background="#faf0f0",document.querySelector("#kod").style.border="1px solid #ebb0b0","true"==localStorage.getItem("block_reset")&&(document.querySelector(".reset").style.display="block")),document.querySelector("#kod").value=""}function exit_settings(){localStorage.setItem("block_loading",document.querySelector("#blocked").checked),localStorage.setItem("block_reset",document.querySelector("#reset").checked),document.querySelector("#theme1").checked?localStorage.setItem("theme","theme1"):localStorage.setItem("theme","theme2"),theme(),localStorage.setItem("block_kod",document.querySelector("#kod-password").value),document.querySelector(".body__window3").style.display="none",document.querySelector(".body__content").style.display="block"}function reset(){localStorage.clear(),window.location.reload()}null==localStorage.getItem("basa")&&localStorage.setItem("basa",JSON.stringify([])),null==localStorage.getItem("theme")&&localStorage.setItem("theme","theme1"),null==localStorage.getItem("block_state")&&localStorage.setItem("block_state","false"),null==localStorage.getItem("block_loading")&&localStorage.setItem("block_loading","false"),null==localStorage.getItem("block_reset")&&localStorage.setItem("block_reset","false"),null==localStorage.getItem("block_kod")&&localStorage.setItem("block_kod",""),theme(),"true"==localStorage.getItem("block_state")||"true"==localStorage.getItem("block_loading")?block():table(),window.addEventListener("keypress",(function(t){13==t.keyCode&&login()}));