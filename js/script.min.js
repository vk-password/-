function log(t){console.log(t)}function Random(t,e){return Math.floor(Math.random()*(e-t+1))+t}function basa(t){localStorage.setItem("basa",JSON.stringify(t))}function table(){let t=JSON.parse(localStorage.getItem("basa")),e=document.querySelector(".content_table>.table>table");e.innerHTML="<tr>\n\t\t<th>№</th>\n\t\t<th>Имя Фамилия</th>\n\t\t<th>ID</th>\n\t\t<th>Логин</th>\n\t\t<th>Пароль</th>\n\t\t<th>Заметки</th>\n\t\t<th><div></div></th>\n\t\t<th><div></div></th>\n\t</tr>";for(let n in t)tr=t[n],e.insertAdjacentHTML("beforeend",`<tr class="tr">\n\t\t\t\t<td>${Number(n)+1}</td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.name}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.id}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.login}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.password}</div></td>\n\t\t\t\t<td><div contenteditable="true" role="textbox" aria-multiline="true">${tr.lists}</div></td>\n\t\t\t\t<td onclick="update_tr(${n}); return false;"><div></div></td>\n\t\t\t\t<td onclick="delete_tr(${n}); return false;"><div></div></td>\n\t\t\t</tr>`)}function new_tr(){let t=JSON.parse(localStorage.getItem("basa"));t.push({id:0,name:"",login:"+7",password:"",lists:""}),basa(t),table()}function delete_tr(t){let e=JSON.parse(localStorage.getItem("basa"));e.splice(t,1),basa(e),table()}function update_tr(t){let e=JSON.parse(localStorage.getItem("basa"));const n=document.querySelector(".content_table>.table>table"),[o,...r]=n.querySelectorAll("tr"),l=[...o.querySelectorAll("th")].map(t=>t.textContent),a=r.map(t=>[...t.querySelectorAll("td")].map(t=>t.textContent)).map(t=>Object.fromEntries(t.map((t,e)=>[l[e],t])));e[t].id=a[t].ID,e[t].name=a[t]["Имя Фамилия"],e[t].login=a[t]["Логин"],e[t].password=a[t]["Пароль"],e[t].lists=a[t]["Заметки"],basa(e),table()}function update(){const t=document.querySelector(".content_table>.table>table"),[e,...n]=t.querySelectorAll("tr"),o=[...e.querySelectorAll("th")].map(t=>t.textContent),r=n.map(t=>[...t.querySelectorAll("td")].map(t=>t.textContent)).map(t=>Object.fromEntries(t.map((t,e)=>[o[e],t])));let l=[];for(let t in r)result_obj=r[t],l.push({id:result_obj.ID,name:result_obj["Имя Фамилия"],login:result_obj["Логин"],password:result_obj["Пароль"],lists:result_obj["Заметки"]});basa(l),table()}function seen_table(){let t=JSON.parse(localStorage.getItem("basa")),e=document.querySelector(".body__window__window__item>.table>table");e.innerHTML="<tr>\n\t\t<th>№</th>\n\t\t<th>Имя Фамилия</th>\n\t\t<th>ID</th>\n\t\t<th>Логин</th>\n\t\t<th>Пароль</th>\n\t\t<th>Заметки</th>\n\t</tr>";for(let n in t)tr=t[n],e.insertAdjacentHTML("beforeend",`<tr class="tr">\n\t\t\t\t<td>${Number(n)+1}</td>\n\t\t\t\t<td>${tr.name}</td>\n\t\t\t\t<td>${tr.id}</td>\n\t\t\t\t<td>${tr.login}</td>\n\t\t\t\t<td>${tr.password}</td>\n\t\t\t\t<td>${tr.lists}</td>\n\t\t\t</tr>`);document.querySelector(".body__window").style.display="block",document.querySelector(".body__content").style.display="none"}function un_seen_table(){document.querySelector(".body__window").style.display="none",document.querySelector(".body__content").style.display="block"}function write_base(){"block"!=document.querySelector(".content_code>.write_code").style.display?(document.querySelector(".content_code>.write_code>.write_code__text").innerHTML=JSON.stringify(JSON.parse(localStorage.getItem("basa"))),document.querySelector(".content_code>.write_code").style.display="block"):document.querySelector(".content_code>.write_code").style.display="none"}function read_base(){"block"!=document.querySelector(".content_code>.read_code").style.display?document.querySelector(".content_code>.read_code").style.display="block":document.querySelector(".content_code>.read_code").style.display="none"}function read_code_base(){let t=document.querySelector(".content_code>.read_code>.read_code__text").textContent;t=JSON.parse(t),basa(t),table()}null==localStorage.getItem("basa")&&localStorage.setItem("basa",JSON.stringify([])),table();